#!/usr/local/bin/zsh

# set colours
autoload colors
if [[ "$terminfo[colors]" -gt 8 ]]; then
  colors
fi
for COLOR in RED GREEN YELLOW BLUE MAGENTA CYAN BLACK WHITE; do
  eval $COLOR='$fg_no_bold[${(L)COLOR}]'
  eval BOLD_$COLOR='$fg_bold[${(L)COLOR}]'
done
eval RESET='$reset_color'

FORCE=0;

if [ "$1" = "-f" ]; then
  FORCE=1;
fi

if [ $FORCE -eq 0 ]; then
  echo "${GREEN}‚ùØ Updating \`my\`...${RESET}" &&
  git --git-dir="$HOME/my/.git" --work-tree="$HOME/my/" pull &&
  ~/my/commands/rocknroll
else
  ~/my/commands/rocknroll -f
fi
